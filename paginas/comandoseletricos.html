<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dimensionamento para Comandos ElÃ©tricos</title>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #27ae60;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header2 {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            text-align: center;
            border-radius: 5px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1, h2, h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        
        .card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .input-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        input, select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .resultados {
            background-color: var(--light-color);
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 2rem;
        }
        
        .result-item {
            margin-bottom: 1rem;
            padding: 1rem;
            background-color: white;
            border-radius: 5px;
            border-left: 4px solid var(--secondary-color);
        }
        
        .tabela-dimensionamento {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        
        .tabela-dimensionamento th, 
        .tabela-dimensionamento td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .tabela-dimensionamento th {
            background-color: var(--primary-color);
            color: white;
        }
        
        .tabela-dimensionamento tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        
        .info-box {
            background-color: #e8f4fc;
            border-left: 4px solid var(--secondary-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1rem;
            color: black;
        }
        
        .componentes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .componente-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-top: 4px solid var(--secondary-color);
        }
        
        @media (min-width: 768px) {
            .form-columns {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }
            
            .form-column {
                flex: 1;
            }
        }
        
        /*Aqui esconde as tabelas da corrente dos condutores e a tabela dos contactores*/
            .esconder {
                display: none !important;
            }
        /*______________________________________________________________________________*/


        .condutor-options {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        
        .condutor-option {
            flex: 1;
            text-align: center;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .condutor-option:hover {
            background-color: #f0f0f0;
        }
        
        .condutor-option.selected {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        .instalacao-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .instalacao-option {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .instalacao-option:hover {
            background-color: #f0f0f0;
        }
        
        .instalacao-option.selected {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }
    </style>
</head>
<body>

        <header>
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="#">Dimencionar</a></li>
            </ul>
        </nav>
    </header>


    <!--Aqui contem o main da parte do dimensionamento-->
    <div class="container">
        <div class="header2">
            <h1 style="color: white;">Dimensionamento para Comandos ElÃ©tricos</h1>
            <p>Dimensionamento completo de condutores, disjuntor, relÃ© tÃ©rmico e contator</p>
        </div>
        
        <div class="card">
            <h2>Dados do Motor e InstalaÃ§Ã£o</h2>
            <div class="form-columns">
                <div class="form-column">
                    <div class="input-group">
                        <label for="tensao">TensÃ£o de AlimentaÃ§Ã£o (V)</label>
                        <select id="tensao">
                            <option value="127">127V</option>
                            <option value="220" selected>220V</option>
                            <option value="380">380V</option>
                            <option value="440">440V</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="potencia">PotÃªncia do Motor (CV)</label>
                        <input type="number" id="potencia" min="0.25" step="0.25" placeholder="Ex: 5" value="5">
                    </div>
                    
                    <div class="input-group">
                        <label for="fp">Fator de PotÃªncia</label>
                        <input type="number" id="fp" value="0.85" min="0.5" max="0.95" step="0.01">
                    </div>
                </div>
                
                <div class="form-column">
                    <div class="input-group">
                        <label for="frequencia">FrequÃªncia (Hz)</label>
                        <select id="frequencia">
                            <option value="60" selected>60Hz</option>
                            <option value="50">50Hz</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="rendimento">Rendimento (%)</label>
                        <input type="number" id="rendimento" value="85" min="50" max="95" step="0.1">
                    </div>
                    
            <div class="esconder">

                    <div class="input-group">
                        <label>Tipo de Condutor</label>
                        <div class="condutor-options">
                            <div class="condutor-option selected" data-value="cobre">Cobre</div>
                            <div class="condutor-option" data-value="aluminio">AlumÃ­nio</div>
                        </div>
                    </div>
            </div>
                </div>
            </div>
            
        <div class="esconder">
            <div class="input-group">
                <label>MÃ©todo de InstalaÃ§Ã£o</label>
                <div class="instalacao-options">
                    <div class="instalacao-option selected" data-value="B1">B1 - Eletroduto aparente em condicoes normais</div>
                    <div class="instalacao-option" data-value="B2">B2 - Eletroduto aparente em condicoes especiais</div>
                    <div class="instalacao-option" data-value="C">C - Eletrodutos enterrados</div>
                    <div class="instalacao-option" data-value="D">D - Eletrodutos em espacos confinados</div>
                </div>
            </div>
        </div>

        <div class="esconder">
            <div class="input-group">
                <label for="comprimento">Comprimento do Circuito (metros)</label>
                <input type="number" id="comprimento" value="30" min="1" step="1">
            </div>
        </div>
        
            <button id="calcular-btn">Calcular Dimensionamento Completo</button>
        </div>
        
        <div class="resultados" id="resultados">
            <h2>Resultados do Dimensionamento</h2>
            
            <div class="componentes-grid">
            
            <div class="esconder">
                <div class="result-item">
                    <h3>Condutores</h3>
                    <p id="condutor-result">-</p>
                    <p id="queda-tensao">-</p>
                </div>
            </div>
                
                <div class="result-item">
                    <h3>Disjuntor Motor</h3>
                    <p id="disjuntor">-</p>
                </div>
                
                <div class="result-item">
                    <h3>RelÃ© TÃ©rmico</h3>
                    <p id="rele-termico">-</p>
                </div>
                
                <div class="result-item">
                    <h3>Contator</h3>
                    <p id="contator">-</p>
                </div>
            </div>
            
            <div class="result-item">
                <h3>Corrente Nominal do Motor</h3>
                <p id="corrente-nominal">-</p>
            </div>
        </div>
        
        <div class="esconder">
        <div class="card1">
            <h2>Tabelas de ReferÃªncia</h2>
            
            <h3>Tabela de Capacidade de Corrente - Condutores de Cobre (75Â°C)</h3>
            <table class="tabela-dimensionamento">
                <thead>
                    <tr>
                        <th>SeÃ§Ã£o (mmÂ²)</th>
                       <!-- <th>MÃ©todo A1</th>
                        <th>MÃ©todo A2</th>
                        <th>MÃ©todo B2</th>
                        <th>MÃ©todo B2</th> -->
                        <th>MÃ©todo B1</th>
                        <th>MÃ©todo B2</th>
                        <th>MÃ©todo C</th>
                        <th>MÃ©todo D</th>
                    </tr>
                </thead>
                <tbody id="tabela-condutores">
                    <!-- Preenchido via JavaScript -->
                </tbody>
            </table>
            
            <h3>Tabela de Contatores</h3>
            <table class="tabela-dimensionamento">
                <thead>
                    <tr>
                        <th>Corrente (A)</th>
                        <th>Contator Sugerido</th>
                        <th>Categoria AC-3</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>AtÃ© 9A</td>
                        <td>CWC-05 ou similar</td>
                        <td>9A (3kW em 380V)</td>
                    </tr>
                    <tr>
                        <td>9A - 12A</td>
                        <td>CWC-08 ou similar</td>
                        <td>12A (5.5kW em 380V)</td>
                    </tr>
                    <tr>
                        <td>12A - 18A</td>
                        <td>CWC-10 ou similar</td>
                        <td>18A (7.5kW em 380V)</td>
                    </tr>
                    <tr>
                        <td>18A - 25A</td>
                        <td>CWC-16 ou similar</td>
                        <td>25A (11kW em 380V)</td>
                    </tr>
                    <tr>
                        <td>25A - 32A</td>
                        <td>CWC-25 ou similar</td>
                        <td>32A (15kW em 380V)</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="info-box">
                <p><strong>Nota:</strong> Os valores apresentados sÃ£o baseados na NBR 5410.</p>
            </div>
        </div>
    </div>
        <section>
        <h1>Beneficios do site</h1>
        <!--
        <p class="apresentacao">Ferramenta profissional para dimencionamento completo de sistemas <br> <strong>fotovoltaico</strong>,
        <strong>comandos eletricos</strong> e <strong>instalacao eletrica</strong> residencial trifasico.</p>
        --> 
        </section>

        <!--Aqui contem os beneficios d site-->
       <section id="benefits" class="benefits">
        <div class="benefit-card">
        <h3>âœ… FÃ¡cil de Usar</h3>
        <p>Interface simples e intuitiva <br> para vocÃª fazer o seu dimencionamento</p>
        </div>
        <div class="benefit-card">
        <h3>âš¡ CÃ¡lculos Precisos</h3>
        <p>Dimensionamento completo e com resultados preciso, testado com formadores da area.</p>
        </div>
        <div class="benefit-card">
        <h3>ðŸ”’ Seguro e gratuito</h3>
        <p>Dimencione os seus projectos gratuitamente apartir da nossa plataforma</p>
        </div>
        </section>

        <!--Aqui contem o footer-->
        <footer>
            <div class="footer-content">
                <p><strong>Desenvolvido por Zulkifli  Nordine</strong></p>
                <p>ðŸ“ž Contacto: +258 86 841 7725</p>
                <p>ðŸ’¡ Contribua ou sugira melhorias no <a href="https://github.com/inventor-web" target="_blank">GitHub</a></p>
                <p>&copy; 2025 Todos os direitos reservados</p>
            </div>        
        </footer>
    </div>

        <!--Aqui contem o javascript-->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const calcularBtn = document.getElementById('calcular-btn');
            const condutorOptions = document.querySelectorAll('.condutor-option');
            const instalacaoOptions = document.querySelectorAll('.instalacao-option');
            let tipoCondutor = 'cobre';
            let metodoInstalacao = 'B1';
            
 // Tabela 36 completa (valores para 3 condutores carregados - circuitos trifÃ¡sicos)
const tabelaCapacidade = {
    'cobre': {
        'A1': [7, 9, 11, 14.5, 19.5, 26, 34, 46],       // 0.5 a 10mmÂ² (3 cond.)
        'A2': [7, 9, 10, 13, 17.5, 23, 29, 39],        // 0.5 a 10mmÂ² (3 cond.)
        'B1': [8, 10, 12, 15.5, 21, 28, 38, 50],       // 0.5 a 10mmÂ² (3 cond.)
        'B2': [8, 10, 12, 15, 20, 27, 34, 46],         // 0.5 a 10mmÂ² (3 cond.)
        'C':  [9, 11, 14, 17.5, 24, 32, 41, 57],      // 0.5 a 10mmÂ² (3 cond.)
        'D':  [10, 12, 15, 18, 24, 31, 39, 52]          // 0.5 a 10mmÂ² (3 cond.)
    },
    'aluminio': {
        'A1': [5.5, 7, 8, 10.5, 14, 18.5, 24, 32.5],   // 0.5 a 10mmÂ² (3 cond.)
        'A2': [5.5, 7, 8, 10, 13.5, 18, 23, 31],       // 0.5 a 10mmÂ² (3 cond.)
        'B1': [7, 8.5, 9.5, 12, 16, 21, 27, 36],       // 0.5 a 10mmÂ² (3 cond.)
        'B2': [6.5, 8, 9.5, 11.5, 15.5, 20.5, 26, 35], // 0.5 a 10mmÂ² (3 cond.)
        'C':  [7.5, 9, 11, 13.5, 18.5, 24.5, 31.5, 44],// 0.5 a 10mmÂ² (3 cond.)
        'D':  [7, 8.5, 10.5, 13.5, 18, 23.5, 30, 40]   // 0.5 a 10mmÂ² (3 cond.)
    }
};


// SeÃ§Ãµes padronizadas (0.5 a 10mmÂ² - como na imagem)
const secoesPadrao = [0.5, 0.75, 1, 1.5, 2.5, 4, 6, 10];

       
            // Preencher tabela de condutores
            function preencherTabelaCondutores() {
                const tbody = document.getElementById('tabela-condutores');
                tbody.innerHTML = '';
                
                for (let i = 0; i < secoesPadrao.length; i++) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${secoesPadrao[i]} mmÂ²</td>
                        <td>${tabelaCapacidade.cobre.B1[i]} A</td>
                        <td>${tabelaCapacidade.cobre.B2[i]} A</td>
                        <td>${tabelaCapacidade.cobre.C[i]} A</td>
                        <td>${tabelaCapacidade.cobre.D[i]} A</td>
                    `;
                    tbody.appendChild(row);
                }
            }
            
            preencherTabelaCondutores();
            
            // Selecionar tipo de condutor
            condutorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    condutorOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    tipoCondutor = this.dataset.value;
                });
            });
            
            // Selecionar mÃ©todo de instalaÃ§Ã£o
            instalacaoOptions.forEach(option => {
                option.addEventListener('click', function() {
                    instalacaoOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    metodoInstalacao = this.dataset.value;
                });
            });
            
            calcularBtn.addEventListener('click', function() {
                // Obter valores dos inputs
                const tensao = parseFloat(document.getElementById('tensao').value);
                const potenciaCV = parseFloat(document.getElementById('potencia').value);
                const rendimento = parseFloat(document.getElementById('rendimento').value) / 100;
                const fp = parseFloat(document.getElementById('fp').value);
                const comprimento = parseFloat(document.getElementById('comprimento').value);
                
                // Validar entrada
                if (isNaN(potenciaCV) || potenciaCV <= 0) {
                    alert('Por favor, insira uma potÃªncia vÃ¡lida para o motor.');
                    return;
                }
                
                if (isNaN(comprimento) || comprimento <= 0) {
                    alert('Por favor, insira um comprimento vÃ¡lido para o circuito.');
                    return;
                }
                
                // 1. Calcular corrente nominal do motor
                const potenciaW = potenciaCV * 735.5; // Converter CV para Watts
                const correnteNominal = potenciaW / (Math.sqrt(3) * tensao * fp * rendimento);
                // 2. Dimensionar condutores
                
                const capacidadeTabela = tabelaCapacidade[tipoCondutor][metodoInstalacao];
                let secaoCondutor = 0;
                
                for (let i = 0; i < capacidadeTabela.length; i++) {
                    if (capacidadeTabela[i] >= correnteNominal * 1.25) { // Fator de correÃ§Ã£o 1.25
                        secaoCondutor = secoesPadrao[i];
                        break;
                    }
                }
                
                if (secaoCondutor === 0) {
                    secaoCondutor = secoesPadrao[secoesPadrao.length - 1];
                }
                
                // 3. Calcular queda de tensÃ£o
                // Resistividade: Cobre = 0.0172 Î©Â·mmÂ²/m, AlumÃ­nio = 0.0282 Î©Â·mmÂ²/m
                const resistividade = tipoCondutor === 'cobre' ? 0.0172 : 0.0282;
                const resistencia = (resistividade * comprimento * 2) / secaoCondutor; // Ida e volta
                const quedaTensao = resistencia * correnteNominal;
                const percentualQueda = (quedaTensao / tensao) * 100;
                
                // 4. Dimensionar disjuntor (aproximadamente 1,5 a 2 vezes a corrente nominal)
                const disjuntor = Math.ceil(correnteNominal * 1.6 / 5) * 5; // Arredonda para mÃºltiplo de 5
                
                // 5. Dimensionar relÃ© tÃ©rmico (faixa de ajuste deve incluir a corrente nominal)
                const releMin = Math.floor(correnteNominal * 0.9);
                const releMax = Math.ceil(correnteNominal * 1.2);
                
                // 6. Dimensionar contator (baseado na corrente nominal e categoria de utilizaÃ§Ã£o)
                let contator;
                if (correnteNominal < 9) {
                    contator = "CWC-05 ou similar (9A em AC-3)";
                } else if (correnteNominal < 12) {
                    contator = "CWC-08 ou similar (12A em AC-3)";
                } else if (correnteNominal < 18) {
                    contator = "CWC-10 ou similar (18A em AC-3)";
                } else if (correnteNominal < 25) {
                    contator = "CWC-16 ou similar (25A em AC-3)";
                } else if (correnteNominal < 32) {
                    contator = "CWC-25 ou similar (32A em AC-3)";
                } else {
                    contator = "Contator de maior capacidade (consultar catÃ¡logo)";
                }
                
                // Exibir resultados
                document.getElementById('corrente-nominal').textContent = 
                    `Corrente nominal: ${correnteNominal.toFixed(2)} A`;
                
                document.getElementById('condutor-result').textContent = 
                    `Condutor de ${tipoCondutor === 'cobre' ? 'Cobre' : 'AlumÃ­nio'}: ${secaoCondutor} mmÂ²`;
                
                document.getElementById('queda-tensao').textContent = 
                    `Queda de tensÃ£o: ${quedaTensao.toFixed(2)} V (${percentualQueda.toFixed(2)}%)`;
                
                document.getElementById('disjuntor').textContent = 
                    `Disjuntor motor: ${disjuntor} A (valor comercial recomendado)`;
                
                document.getElementById('rele-termico').textContent = 
                    `RelÃ© tÃ©rmico: Faixa de ajuste ${releMin} A a ${releMax} A`;
                
                document.getElementById('contator').textContent = 
                    `Contator: ${contator}`;
                
                // Verificar se queda de tensÃ£o estÃ¡ dentro dos limites
                if (percentualQueda > 4) {
                    document.getElementById('queda-tensao').innerHTML += 
                        ` <span style="color: var(--accent-color); font-weight: bold;">(AtenÃ§Ã£o: acima de 4%)</span>`;
                }
            });
            
            // Calcular automaticamente ao carregar a pÃ¡gina com valores padrÃ£o
            calcularBtn.click();
        });
    </script>
</body>
</html>
